## 1、服务端启动；客户端新增线程池配置

#### 问题1

服务端启动，客户端使用sdk先启动，但是没有在服务端配置线程池配置信息，那么客户端启动之后就不会订阅服务端的配置变更，如果配置是后加的话，那么客户端还得重新启动，这个不太合理；

#### 解决

订阅方式下放到客户端，可以手动选择是否持续订阅配置变更通知，而不是依赖启动。





#### 问题2

客户端订阅是存储于服务端的内存中的，服务端重启之后，客户端的订阅信息就丢失了，这时无法保证已经注册过的客户端的信息留存在系统中，客户端和服务端就失去了通信

#### 解决

服务端启动时，客户端和服务端会定时进行探活通信，  如果接受到客户端的探活通知，会把当前客户端加入到订阅内存中；
服务端启动时，去获取当前已经配置过的所有的线程池的信息，然后依次去探活，判断存活的继续放入订阅内存中；